{"files":{"src/task/task.service.ts":{"language":"typescript","mutants":[{"id":"0","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(24,40): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\r\n","status":"CompileError","static":false,"coveredBy":["17","20","21","22","23","24","29","30","31","32"],"location":{"end":{"column":4,"line":35},"start":{"column":55,"line":24}}},{"id":"1","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n- Object {\n-   \"relations\": Array [\n-     \"tasks\",\n-   ],\n-   \"where\": Object {\n-     \"id\": \"board-123\",\n-   },\n- }\n+ Object {},\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.branch.spec.ts:93:40)","status":"Killed","static":false,"testsCompleted":10,"killedBy":["29"],"coveredBy":["17","20","21","22","23","24","29","30","31","32"],"location":{"end":{"column":6,"line":28},"start":{"column":55,"line":25}}},{"id":"5","mutatorName":"BooleanLiteral","replacement":"board","statusReason":"src/task/task.service.ts(34,5): error TS2322: Type 'null' is not assignable to type 'Board'.\r\n","status":"CompileError","static":false,"coveredBy":["17","20","21","22","23","24","29","30","31","32"],"location":{"end":{"column":15,"line":30},"start":{"column":9,"line":30}}},{"id":"2","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n    \"relations\": Array [\n      \"tasks\",\n    ],\n-   \"where\": Object {\n-     \"id\": \"board-123\",\n-   },\n+   \"where\": Object {},\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.branch.spec.ts:93:40)","status":"Killed","static":false,"testsCompleted":10,"killedBy":["29"],"coveredBy":["17","20","21","22","23","24","29","30","31","32"],"location":{"end":{"column":29,"line":26},"start":{"column":14,"line":26}}},{"id":"6","mutatorName":"ConditionalExpression","replacement":"true","statusReason":"src/task/task.service.ts(34,5): error TS2322: Type 'Board | null' is not assignable to type 'Board'.\r\n  Type 'null' is not assignable to type 'Board'.\r\n","status":"CompileError","static":false,"coveredBy":["17","20","21","22","23","24","29","30","31","32"],"location":{"end":{"column":15,"line":30},"start":{"column":9,"line":30}}},{"id":"3","mutatorName":"ArrayDeclaration","replacement":"[]","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n-   \"relations\": Array [\n-     \"tasks\",\n-   ],\n+   \"relations\": Array [],\n    \"where\": Object {\n      \"id\": \"board-123\",\n    },\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.branch.spec.ts:93:40)","status":"Killed","static":false,"testsCompleted":10,"killedBy":["29"],"coveredBy":["17","20","21","22","23","24","29","30","31","32"],"location":{"end":{"column":27,"line":27},"start":{"column":18,"line":27}}},{"id":"7","mutatorName":"ConditionalExpression","replacement":"false","statusReason":"src/task/task.service.ts(34,5): error TS2322: Type 'Board | null' is not assignable to type 'Board'.\r\n  Type 'null' is not assignable to type 'Board'.\r\n","status":"CompileError","static":false,"coveredBy":["17","20","21","22","23","24","29","30","31","32"],"location":{"end":{"column":15,"line":30},"start":{"column":9,"line":30}}},{"id":"4","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n    \"relations\": Array [\n-     \"tasks\",\n+     \"\",\n    ],\n    \"where\": Object {\n      \"id\": \"board-123\",\n    },\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.branch.spec.ts:93:40)","status":"Killed","static":false,"testsCompleted":10,"killedBy":["29"],"coveredBy":["17","20","21","22","23","24","29","30","31","32"],"location":{"end":{"column":26,"line":27},"start":{"column":19,"line":27}}},{"id":"8","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(32,5): error TS2322: Type 'Board | null' is not assignable to type 'Board'.\r\n  Type 'null' is not assignable to type 'Board'.\r\n","status":"CompileError","static":false,"coveredBy":["30"],"location":{"end":{"column":6,"line":32},"start":{"column":17,"line":30}}},{"id":"9","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"Error: expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Board not found\"\nReceived message:   \"Not Found\"\n\n      78 |         } else {\n      79 |           stryCov_9fa48(\"8\");\n    > 80 |           throw new NotFoundException(stryMutAct_9fa48(\"9\") ? \"\" : (stryCov_9fa48(\"9\"), 'Board not found'));\n         |                 ^\n      81 |         }\n      82 |       }\n      83 |       return board;\n\n      at TaskService.getBoardById (src/task/task.service.ts:80:17)\n      at Object.<anonymous> (src/test/unit/task/task.service.branch.spec.ts:103:7)\n    at Object.toThrow (C:\\VKR\\workflow-app\\task-service\\node_modules\\expect\\build\\index.js:218:22)\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.branch.spec.ts:103:67)\n    at Promise.then.completed (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:444:34)","status":"Killed","static":false,"testsCompleted":1,"killedBy":["30"],"coveredBy":["30"],"location":{"end":{"column":52,"line":31},"start":{"column":35,"line":31}}},{"id":"10","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(37,91): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\r\n","status":"CompileError","static":false,"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":4,"line":75},"start":{"column":105,"line":37}}},{"id":"11","mutatorName":"BlockStatement","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalled()\n\nExpected number of calls: >= 1\nReceived number of calls:    0\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.branch.spec.ts:131:31)","status":"Killed","static":false,"testsCompleted":7,"killedBy":["31"],"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":6,"line":44},"start":{"column":9,"line":40}}},{"id":"12","mutatorName":"StringLiteral","replacement":"``","status":"Survived","static":false,"testsCompleted":7,"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":125,"line":42},"start":{"column":30,"line":42}}},{"id":"13","mutatorName":"ConditionalExpression","replacement":"true","status":"Survived","static":false,"testsCompleted":7,"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":89,"line":42},"start":{"column":33,"line":42}}},{"id":"14","mutatorName":"ConditionalExpression","replacement":"false","status":"Survived","static":false,"testsCompleted":7,"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":89,"line":42},"start":{"column":33,"line":42}}},{"id":"15","mutatorName":"LogicalOperator","replacement":"process.env.API_GATEWAY_URL && 'http://api-gateway:3000'","status":"Survived","static":false,"testsCompleted":7,"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":89,"line":42},"start":{"column":33,"line":42}}},{"id":"16","mutatorName":"StringLiteral","replacement":"\"\"","status":"Survived","static":false,"testsCompleted":7,"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":89,"line":42},"start":{"column":64,"line":42}}},{"id":"17","mutatorName":"BlockStatement","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: ObjectContaining {\"assigneeId\": \"current-user-123\"}\nReceived: {\"assigneeId\": \"non-existent-user\", \"boardId\": \"board-123\", \"description\": \"\", \"priority\": \"low\", \"reporterId\": \"current-user-123\", \"status\": \"todo\", \"tags\": [], \"title\": \"Test Task\"}\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:450:36)","status":"Killed","static":false,"testsCompleted":3,"killedBy":["24"],"coveredBy":["20","24","31"],"location":{"end":{"column":6,"line":48},"start":{"column":21,"line":44}}},{"id":"19","mutatorName":"ConditionalExpression","replacement":"true","statusReason":"src/task/task.service.ts(50,39): error TS2769: No overload matches this call.\r\n  Overload 1 of 3, '(entityLikeArray: DeepPartial<Task>[]): Task[]', gave the following error.\r\n    Object literal may only specify known properties, and 'boardId' does not exist in type 'DeepPartial<Task>[]'.\r\n  Overload 2 of 3, '(entityLike: DeepPartial<Task>): Task', gave the following error.\r\n    Type 'true' is not assignable to type 'TaskStatus | undefined'.\r\nsrc/task/task.service.ts(66,29): error TS2339: Property 'id' does not exist on type 'Task[]'.\r\nsrc/task/task.service.ts(73,5): error TS2740: Type 'Task[]' is missing the following properties from type 'Task': id, title, status, assigneeId, and 2 more.\r\n","status":"CompileError","static":false,"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":54,"line":54},"start":{"column":15,"line":54}}},{"id":"18","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: ObjectContaining {\"status\": \"todo\"}\nReceived: {}\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:329:40)","status":"Killed","static":false,"testsCompleted":7,"killedBy":["20"],"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":6,"line":55},"start":{"column":46,"line":50}}},{"id":"20","mutatorName":"ConditionalExpression","replacement":"false","statusReason":"src/task/task.service.ts(50,39): error TS2769: No overload matches this call.\r\n  Overload 1 of 3, '(entityLikeArray: DeepPartial<Task>[]): Task[]', gave the following error.\r\n    Object literal may only specify known properties, and 'boardId' does not exist in type 'DeepPartial<Task>[]'.\r\n  Overload 2 of 3, '(entityLike: DeepPartial<Task>): Task', gave the following error.\r\n    Type 'false' is not assignable to type 'TaskStatus | undefined'.\r\nsrc/task/task.service.ts(66,29): error TS2339: Property 'id' does not exist on type 'Task[]'.\r\nsrc/task/task.service.ts(73,5): error TS2740: Type 'Task[]' is missing the following properties from type 'Task': id, title, status, assigneeId, and 2 more.\r\n","status":"CompileError","static":false,"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":54,"line":54},"start":{"column":15,"line":54}}},{"id":"21","mutatorName":"LogicalOperator","replacement":"createTaskDto.status && TaskStatus.TODO","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: ObjectContaining {\"status\": \"todo\"}\nReceived: {\"assigneeId\": \"user-123\", \"boardId\": \"board-123\", \"description\": \"\", \"priority\": \"low\", \"reporterId\": \"user-123\", \"status\": undefined, \"tags\": [], \"title\": \"Test Task\"}\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:329:40)","status":"Killed","static":false,"testsCompleted":7,"killedBy":["20"],"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":54,"line":54},"start":{"column":15,"line":54}}},{"id":"22","mutatorName":"ConditionalExpression","replacement":"true","statusReason":"Error: expect(jest.fn()).not.toHaveBeenCalled()\n\nExpected number of calls: 0\nReceived number of calls: 1\n\n1: \"http://api-gateway:3000/notifications\", {\"data\": {\"assignedBy\": \"user-123\", \"boardId\": \"board-123\", \"taskId\": \"task-123\"}, \"message\": \"Вам назначена задача \\\"Test Task\\\"\", \"title\": \"Новая задача назначена\", \"type\": \"task_assigned\", \"userId\": \"user-123\"}\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:381:29)","status":"Killed","static":false,"testsCompleted":7,"killedBy":["22"],"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":51,"line":59},"start":{"column":9,"line":59}}},{"id":"23","mutatorName":"ConditionalExpression","replacement":"false","statusReason":"Error: expect(jest.fn()).toHaveBeenCalled()\n\nExpected number of calls: >= 1\nReceived number of calls:    0\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:357:25)","status":"Killed","static":false,"testsCompleted":7,"killedBy":["21"],"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":51,"line":59},"start":{"column":9,"line":59}}},{"id":"24","mutatorName":"EqualityOperator","replacement":"createTaskDto.assigneeId === currentUserId","statusReason":"Error: expect(jest.fn()).toHaveBeenCalled()\n\nExpected number of calls: >= 1\nReceived number of calls:    0\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:357:25)","status":"Killed","static":false,"testsCompleted":7,"killedBy":["21"],"coveredBy":["20","21","22","23","24","31","32"],"location":{"end":{"column":51,"line":59},"start":{"column":9,"line":59}}},{"id":"25","mutatorName":"BlockStatement","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalled()\n\nExpected number of calls: >= 1\nReceived number of calls:    0\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:357:25)","status":"Killed","static":false,"testsCompleted":3,"killedBy":["21"],"coveredBy":["21","23","32"],"location":{"end":{"column":6,"line":71},"start":{"column":53,"line":59}}},{"id":"26","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"http://api-gateway:3000/notifications\",\n- Object {\n-   \"data\": Object {\n-     \"assignedBy\": \"user-123\",\n-     \"boardId\": \"board-123\",\n-     \"taskId\": \"new-task-123\",\n-   },\n-   \"message\": \"Вам назначена задача \\\"Важная задача\\\"\",\n-   \"title\": \"Новая задача назначена\",\n-   \"type\": \"task_assigned\",\n-   \"userId\": \"user-456\",\n- }\n+ Object {},\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:412:21)","status":"Killed","static":false,"testsCompleted":3,"killedBy":["23"],"coveredBy":["21","23","32"],"location":{"end":{"column":8,"line":70},"start":{"column":33,"line":60}}},{"id":"27","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"http://api-gateway:3000/notifications\",\n@@ -3,9 +3,9 @@\n      \"assignedBy\": \"user-123\",\n      \"boardId\": \"board-123\",\n      \"taskId\": \"new-task-123\",\n    },\n    \"message\": \"Вам назначена задача \\\"Важная задача\\\"\",\n-   \"title\": \"Новая задача назначена\",\n+   \"title\": \"\",\n    \"type\": \"task_assigned\",\n    \"userId\": \"user-456\",\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:412:21)","status":"Killed","static":false,"testsCompleted":3,"killedBy":["23"],"coveredBy":["21","23","32"],"location":{"end":{"column":40,"line":62},"start":{"column":16,"line":62}}},{"id":"28","mutatorName":"StringLiteral","replacement":"``","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"http://api-gateway:3000/notifications\",\n@@ -2,10 +2,10 @@\n    \"data\": Object {\n      \"assignedBy\": \"user-123\",\n      \"boardId\": \"board-123\",\n      \"taskId\": \"new-task-123\",\n    },\n-   \"message\": \"Вам назначена задача \\\"Важная задача\\\"\",\n+   \"message\": \"\",\n    \"title\": \"Новая задача назначена\",\n    \"type\": \"task_assigned\",\n    \"userId\": \"user-456\",\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:412:21)","status":"Killed","static":false,"testsCompleted":3,"killedBy":["23"],"coveredBy":["21","23","32"],"location":{"end":{"column":65,"line":63},"start":{"column":18,"line":63}}},{"id":"29","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"http://api-gateway:3000/notifications\",\n@@ -4,8 +4,8 @@\n      \"boardId\": \"board-123\",\n      \"taskId\": \"new-task-123\",\n    },\n    \"message\": \"Вам назначена задача \\\"Важная задача\\\"\",\n    \"title\": \"Новая задача назначена\",\n-   \"type\": \"task_assigned\",\n+   \"type\": \"\",\n    \"userId\": \"user-456\",\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:412:21)","status":"Killed","static":false,"testsCompleted":3,"killedBy":["23"],"coveredBy":["21","23","32"],"location":{"end":{"column":30,"line":64},"start":{"column":15,"line":64}}},{"id":"31","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(77,41): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\r\n","status":"CompileError","static":false,"coveredBy":["17"],"location":{"end":{"column":4,"line":83},"start":{"column":57,"line":77}}},{"id":"30","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  \"http://api-gateway:3000/notifications\",\n  Object {\n-   \"data\": Object {\n-     \"assignedBy\": \"user-123\",\n-     \"boardId\": \"board-123\",\n-     \"taskId\": \"new-task-123\",\n-   },\n+   \"data\": Object {},\n    \"message\": \"Вам назначена задача \\\"Важная задача\\\"\",\n    \"title\": \"Новая задача назначена\",\n    \"type\": \"task_assigned\",\n    \"userId\": \"user-456\",\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:412:21)","status":"Killed","static":false,"testsCompleted":3,"killedBy":["23"],"coveredBy":["21","23","32"],"location":{"end":{"column":10,"line":69},"start":{"column":15,"line":65}}},{"id":"32","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n- Object {\n-   \"order\": Object {\n-     \"createdAt\": \"DESC\",\n-     \"order\": \"ASC\",\n-   },\n-   \"where\": Object {\n-     \"boardId\": \"board-123\",\n-   },\n- }\n+ Object {},\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:287:38)","status":"Killed","static":false,"testsCompleted":1,"killedBy":["17"],"coveredBy":["17"],"location":{"end":{"column":6,"line":82},"start":{"column":38,"line":79}}},{"id":"33","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n    \"order\": Object {\n      \"createdAt\": \"DESC\",\n      \"order\": \"ASC\",\n    },\n-   \"where\": Object {\n-     \"boardId\": \"board-123\",\n-   },\n+   \"where\": Object {},\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:287:38)","status":"Killed","static":false,"testsCompleted":1,"killedBy":["17"],"coveredBy":["17"],"location":{"end":{"column":25,"line":80},"start":{"column":14,"line":80}}},{"id":"35","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"src/task/task.service.ts(81,16): error TS2322: Type '\"\"' is not assignable to type 'FindOptionsOrderValue | undefined'.\r\n","status":"CompileError","static":false,"coveredBy":["17"],"location":{"end":{"column":28,"line":81},"start":{"column":23,"line":81}}},{"id":"34","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n-   \"order\": Object {\n-     \"createdAt\": \"DESC\",\n-     \"order\": \"ASC\",\n-   },\n+   \"order\": Object {},\n    \"where\": Object {\n      \"boardId\": \"board-123\",\n    },\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:287:38)","status":"Killed","static":false,"testsCompleted":1,"killedBy":["17"],"coveredBy":["17"],"location":{"end":{"column":49,"line":81},"start":{"column":14,"line":81}}},{"id":"36","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"src/task/task.service.ts(81,30): error TS2322: Type '\"\"' is not assignable to type 'FindOptionsOrderValue | undefined'.\r\n","status":"CompileError","static":false,"coveredBy":["17"],"location":{"end":{"column":47,"line":81},"start":{"column":41,"line":81}}},{"id":"37","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(85,38): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\r\n","status":"CompileError","static":false,"coveredBy":["18","19"],"location":{"end":{"column":4,"line":95},"start":{"column":52,"line":85}}},{"id":"38","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n- Object {\n-   \"where\": Object {\n-     \"id\": \"task-123\",\n-   },\n- }\n+ Object {},\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:299:41)","status":"Killed","static":false,"testsCompleted":2,"killedBy":["18"],"coveredBy":["18","19"],"location":{"end":{"column":6,"line":88},"start":{"column":53,"line":86}}},{"id":"39","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n-   \"where\": Object {\n-     \"id\": \"task-123\",\n-   },\n+   \"where\": Object {},\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:299:41)","status":"Killed","static":false,"testsCompleted":2,"killedBy":["18"],"coveredBy":["18","19"],"location":{"end":{"column":28,"line":87},"start":{"column":14,"line":87}}},{"id":"40","mutatorName":"BooleanLiteral","replacement":"task","statusReason":"src/task/task.service.ts(94,5): error TS2322: Type 'null' is not assignable to type 'Task'.\r\n","status":"CompileError","static":false,"coveredBy":["18","19"],"location":{"end":{"column":14,"line":90},"start":{"column":9,"line":90}}},{"id":"41","mutatorName":"ConditionalExpression","replacement":"true","statusReason":"src/task/task.service.ts(94,5): error TS2322: Type 'Task | null' is not assignable to type 'Task'.\r\n  Type 'null' is not assignable to type 'Task'.\r\n","status":"CompileError","static":false,"coveredBy":["18","19"],"location":{"end":{"column":14,"line":90},"start":{"column":9,"line":90}}},{"id":"42","mutatorName":"ConditionalExpression","replacement":"false","statusReason":"src/task/task.service.ts(94,5): error TS2322: Type 'Task | null' is not assignable to type 'Task'.\r\n  Type 'null' is not assignable to type 'Task'.\r\n","status":"CompileError","static":false,"coveredBy":["18","19"],"location":{"end":{"column":14,"line":90},"start":{"column":9,"line":90}}},{"id":"43","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(92,5): error TS2322: Type 'Task | null' is not assignable to type 'Task'.\r\n  Type 'null' is not assignable to type 'Task'.\r\n","status":"CompileError","static":false,"coveredBy":["19"],"location":{"end":{"column":6,"line":92},"start":{"column":16,"line":90}}},{"id":"44","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"Error: expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Task not found\"\nReceived message:   \"Not Found\"\n\n      167 |         } else {\n      168 |           stryCov_9fa48(\"43\");\n    > 169 |           throw new NotFoundException(stryMutAct_9fa48(\"44\") ? \"\" : (stryCov_9fa48(\"44\"), 'Task not found'));\n          |                 ^\n      170 |         }\n      171 |       }\n      172 |       return task;\n\n      at TaskService.getTaskById (src/task/task.service.ts:169:17)\n      at Object.<anonymous> (src/test/unit/task/task.service.decision.spec.ts:307:9)\n    at Object.toThrow (C:\\VKR\\workflow-app\\task-service\\node_modules\\expect\\build\\index.js:218:22)\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:308:18)\n    at Promise.then.completed (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:444:34)","status":"Killed","static":false,"testsCompleted":1,"killedBy":["19"],"coveredBy":["19"],"location":{"end":{"column":51,"line":91},"start":{"column":35,"line":91}}},{"id":"45","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(98,67): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\r\n","status":"CompileError","static":false,"coveredBy":["4","5","6","15","27"],"location":{"end":{"column":4,"line":109},"start":{"column":81,"line":98}}},{"id":"46","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n- Object {\n-   \"where\": Object {\n-     \"id\": \"task-123\",\n-   },\n- }\n+ Object {},\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:180:28)","status":"Killed","static":false,"testsCompleted":6,"killedBy":["4"],"coveredBy":["4","5","6","15","27"],"location":{"end":{"column":78,"line":99},"start":{"column":53,"line":99}}},{"id":"48","mutatorName":"BooleanLiteral","replacement":"task","statusReason":"src/task/task.service.ts(105,19): error TS2769: No overload matches this call.\r\n  Overload 1 of 4, '(target: {}, source: UpdateTaskDto): UpdateTaskDto', gave the following error.\r\n    Argument of type 'null' is not assignable to parameter of type '{}'.\r\n  Overload 2 of 4, '(target: object, ...sources: any[]): any', gave the following error.\r\n    Argument of type 'null' is not assignable to parameter of type 'object'.\r\nsrc/task/task.service.ts(106,5): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(108,5): error TS2740: Type 'DeepPartial<Task>[]' is missing the following properties from type 'Task': id, title, status, assigneeId, and 2 more.\r\nsrc/task/task.service.ts(108,44): error TS2769: No overload matches this call.\r\n  Overload 1 of 4, '(entities: DeepPartial<Task>[], options?: SaveOptions | undefined): Promise<(DeepPartial<Task> & Task)[]>', gave the following error.\r\n    Argument of type 'null' is not assignable to parameter of type 'DeepPartial<Task>[]'.\r\n  Overload 2 of 4, '(entity: DeepPartial<Task>, options?: SaveOptions | undefined): Promise<DeepPartial<Task> & Task>', gave the following error.\r\n    Argument of type 'null' is not assignable to parameter of type 'DeepPartial<Task>'.\r\n","status":"CompileError","static":false,"coveredBy":["4","5","6","15","27"],"location":{"end":{"column":14,"line":101},"start":{"column":9,"line":101}}},{"id":"47","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n-   \"where\": Object {\n-     \"id\": \"task-123\",\n-   },\n+   \"where\": Object {},\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:180:28)","status":"Killed","static":false,"testsCompleted":6,"killedBy":["4"],"coveredBy":["4","5","6","15","27"],"location":{"end":{"column":76,"line":99},"start":{"column":62,"line":99}}},{"id":"49","mutatorName":"ConditionalExpression","replacement":"true","statusReason":"src/task/task.service.ts(105,19): error TS2769: No overload matches this call.\r\n  Overload 1 of 4, '(target: {}, source: UpdateTaskDto): UpdateTaskDto', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type '{}'.\r\n      Type 'null' is not assignable to type '{}'.\r\n  Overload 2 of 4, '(target: object, ...sources: any[]): any', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'object'.\r\n      Type 'null' is not assignable to type 'object'.\r\nsrc/task/task.service.ts(106,5): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(108,5): error TS2740: Type 'DeepPartial<Task>[]' is missing the following properties from type 'Task': id, title, status, assigneeId, and 2 more.\r\nsrc/task/task.service.ts(108,44): error TS2769: No overload matches this call.\r\n  Overload 1 of 4, '(entities: DeepPartial<Task>[], options?: SaveOptions | undefined): Promise<(DeepPartial<Task> & Task)[]>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'DeepPartial<Task>[]'.\r\n      Type 'null' is not assignable to type 'DeepPartial<Task>[]'.\r\n  Overload 2 of 4, '(entity: DeepPartial<Task>, options?: SaveOptions | undefined): Promise<DeepPartial<Task> & Task>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'DeepPartial<Task>'.\r\n      Type 'null' is not assignable to type 'DeepPartial<Task>'.\r\n","status":"CompileError","static":false,"coveredBy":["4","5","6","15","27"],"location":{"end":{"column":14,"line":101},"start":{"column":9,"line":101}}},{"id":"50","mutatorName":"ConditionalExpression","replacement":"false","statusReason":"src/task/task.service.ts(105,19): error TS2769: No overload matches this call.\r\n  Overload 1 of 4, '(target: {}, source: UpdateTaskDto): UpdateTaskDto', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type '{}'.\r\n      Type 'null' is not assignable to type '{}'.\r\n  Overload 2 of 4, '(target: object, ...sources: any[]): any', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'object'.\r\n      Type 'null' is not assignable to type 'object'.\r\nsrc/task/task.service.ts(106,5): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(108,5): error TS2740: Type 'DeepPartial<Task>[]' is missing the following properties from type 'Task': id, title, status, assigneeId, and 2 more.\r\nsrc/task/task.service.ts(108,44): error TS2769: No overload matches this call.\r\n  Overload 1 of 4, '(entities: DeepPartial<Task>[], options?: SaveOptions | undefined): Promise<(DeepPartial<Task> & Task)[]>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'DeepPartial<Task>[]'.\r\n      Type 'null' is not assignable to type 'DeepPartial<Task>[]'.\r\n  Overload 2 of 4, '(entity: DeepPartial<Task>, options?: SaveOptions | undefined): Promise<DeepPartial<Task> & Task>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'DeepPartial<Task>'.\r\n      Type 'null' is not assignable to type 'DeepPartial<Task>'.\r\n","status":"CompileError","static":false,"coveredBy":["4","5","6","15","27"],"location":{"end":{"column":14,"line":101},"start":{"column":9,"line":101}}},{"id":"51","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(103,19): error TS2769: No overload matches this call.\r\n  Overload 1 of 4, '(target: {}, source: UpdateTaskDto): UpdateTaskDto', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type '{}'.\r\n      Type 'null' is not assignable to type '{}'.\r\n  Overload 2 of 4, '(target: object, ...sources: any[]): any', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'object'.\r\n      Type 'null' is not assignable to type 'object'.\r\nsrc/task/task.service.ts(104,5): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(106,5): error TS2740: Type 'DeepPartial<Task>[]' is missing the following properties from type 'Task': id, title, status, assigneeId, and 2 more.\r\nsrc/task/task.service.ts(106,44): error TS2769: No overload matches this call.\r\n  Overload 1 of 4, '(entities: DeepPartial<Task>[], options?: SaveOptions | undefined): Promise<(DeepPartial<Task> & Task)[]>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'DeepPartial<Task>[]'.\r\n      Type 'null' is not assignable to type 'DeepPartial<Task>[]'.\r\n  Overload 2 of 4, '(entity: DeepPartial<Task>, options?: SaveOptions | undefined): Promise<DeepPartial<Task> & Task>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'DeepPartial<Task>'.\r\n      Type 'null' is not assignable to type 'DeepPartial<Task>'.\r\n","status":"CompileError","static":false,"coveredBy":["5","27"],"location":{"end":{"column":6,"line":103},"start":{"column":16,"line":101}}},{"id":"53","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(111,78): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\r\n","status":"CompileError","static":false,"coveredBy":["8","9","16","28"],"location":{"end":{"column":4,"line":122},"start":{"column":92,"line":111}}},{"id":"52","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"Error: expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Task not found\"\nReceived message:   \"Not Found\"\n\n      188 |         } else {\n      189 |           stryCov_9fa48(\"51\");\n    > 190 |           throw new NotFoundException(stryMutAct_9fa48(\"52\") ? \"\" : (stryCov_9fa48(\"52\"), 'Task not found'));\n          |                 ^\n      191 |         }\n      192 |       }\n      193 |       Object.assign(task, updateTaskDto);\n\n      at TaskService.updateTask (src/task/task.service.ts:190:17)\n      at Object.<anonymous> (src/test/unit/task/task.service.decision.spec.ts:495:5)\n    at Object.toThrow (C:\\VKR\\workflow-app\\task-service\\node_modules\\expect\\build\\index.js:218:22)\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:496:18)\n    at Promise.then.completed (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:444:34)","status":"Killed","static":false,"testsCompleted":3,"killedBy":["27"],"coveredBy":["5","27"],"location":{"end":{"column":51,"line":102},"start":{"column":35,"line":102}}},{"id":"54","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n- Object {\n-   \"where\": Object {\n-     \"id\": \"task-123\",\n-   },\n- }\n+ Object {},\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:218:28)","status":"Killed","static":false,"testsCompleted":4,"killedBy":["8"],"coveredBy":["8","9","16","28"],"location":{"end":{"column":78,"line":112},"start":{"column":53,"line":112}}},{"id":"55","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n-   \"where\": Object {\n-     \"id\": \"task-123\",\n-   },\n+   \"where\": Object {},\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:218:28)","status":"Killed","static":false,"testsCompleted":4,"killedBy":["8"],"coveredBy":["8","9","16","28"],"location":{"end":{"column":76,"line":112},"start":{"column":62,"line":112}}},{"id":"56","mutatorName":"BooleanLiteral","replacement":"task","statusReason":"src/task/task.service.ts(118,5): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(119,5): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(121,5): error TS2740: Type 'DeepPartial<Task>[]' is missing the following properties from type 'Task': id, title, status, assigneeId, and 2 more.\r\nsrc/task/task.service.ts(121,38): error TS2769: No overload matches this call.\r\n  Overload 1 of 4, '(entities: DeepPartial<Task>[], options?: SaveOptions | undefined): Promise<(DeepPartial<Task> & Task)[]>', gave the following error.\r\n    Argument of type 'null' is not assignable to parameter of type 'DeepPartial<Task>[]'.\r\n  Overload 2 of 4, '(entity: DeepPartial<Task>, options?: SaveOptions | undefined): Promise<DeepPartial<Task> & Task>', gave the following error.\r\n    Argument of type 'null' is not assignable to parameter of type 'DeepPartial<Task>'.\r\n","status":"CompileError","static":false,"coveredBy":["8","9","16","28"],"location":{"end":{"column":14,"line":114},"start":{"column":9,"line":114}}},{"id":"57","mutatorName":"ConditionalExpression","replacement":"true","statusReason":"src/task/task.service.ts(118,5): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(119,5): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(121,5): error TS2740: Type 'DeepPartial<Task>[]' is missing the following properties from type 'Task': id, title, status, assigneeId, and 2 more.\r\nsrc/task/task.service.ts(121,38): error TS2769: No overload matches this call.\r\n  Overload 1 of 4, '(entities: DeepPartial<Task>[], options?: SaveOptions | undefined): Promise<(DeepPartial<Task> & Task)[]>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'DeepPartial<Task>[]'.\r\n      Type 'null' is not assignable to type 'DeepPartial<Task>[]'.\r\n  Overload 2 of 4, '(entity: DeepPartial<Task>, options?: SaveOptions | undefined): Promise<DeepPartial<Task> & Task>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'DeepPartial<Task>'.\r\n      Type 'null' is not assignable to type 'DeepPartial<Task>'.\r\n","status":"CompileError","static":false,"coveredBy":["8","9","16","28"],"location":{"end":{"column":14,"line":114},"start":{"column":9,"line":114}}},{"id":"58","mutatorName":"ConditionalExpression","replacement":"false","statusReason":"src/task/task.service.ts(118,5): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(119,5): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(121,5): error TS2740: Type 'DeepPartial<Task>[]' is missing the following properties from type 'Task': id, title, status, assigneeId, and 2 more.\r\nsrc/task/task.service.ts(121,38): error TS2769: No overload matches this call.\r\n  Overload 1 of 4, '(entities: DeepPartial<Task>[], options?: SaveOptions | undefined): Promise<(DeepPartial<Task> & Task)[]>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'DeepPartial<Task>[]'.\r\n      Type 'null' is not assignable to type 'DeepPartial<Task>[]'.\r\n  Overload 2 of 4, '(entity: DeepPartial<Task>, options?: SaveOptions | undefined): Promise<DeepPartial<Task> & Task>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'DeepPartial<Task>'.\r\n      Type 'null' is not assignable to type 'DeepPartial<Task>'.\r\n","status":"CompileError","static":false,"coveredBy":["8","9","16","28"],"location":{"end":{"column":14,"line":114},"start":{"column":9,"line":114}}},{"id":"59","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(116,5): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(117,5): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(119,5): error TS2740: Type 'DeepPartial<Task>[]' is missing the following properties from type 'Task': id, title, status, assigneeId, and 2 more.\r\nsrc/task/task.service.ts(119,38): error TS2769: No overload matches this call.\r\n  Overload 1 of 4, '(entities: DeepPartial<Task>[], options?: SaveOptions | undefined): Promise<(DeepPartial<Task> & Task)[]>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'DeepPartial<Task>[]'.\r\n      Type 'null' is not assignable to type 'DeepPartial<Task>[]'.\r\n  Overload 2 of 4, '(entity: DeepPartial<Task>, options?: SaveOptions | undefined): Promise<DeepPartial<Task> & Task>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'DeepPartial<Task>'.\r\n      Type 'null' is not assignable to type 'DeepPartial<Task>'.\r\n","status":"CompileError","static":false,"coveredBy":["9","28"],"location":{"end":{"column":6,"line":116},"start":{"column":16,"line":114}}},{"id":"61","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(124,53): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\r\n","status":"CompileError","static":false,"coveredBy":["0","1","2","3","7","33","34"],"location":{"end":{"column":4,"line":136},"start":{"column":67,"line":124}}},{"id":"60","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"Error: expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Task not found\"\nReceived message:   \"Not Found\"\n\n      211 |         } else {\n      212 |           stryCov_9fa48(\"59\");\n    > 213 |           throw new NotFoundException(stryMutAct_9fa48(\"60\") ? \"\" : (stryCov_9fa48(\"60\"), 'Task not found'));\n          |                 ^\n      214 |         }\n      215 |       }\n      216 |       task.status = status;\n\n      at TaskService.updateTaskStatus (src/task/task.service.ts:213:17)\n      at Object.<anonymous> (src/test/unit/task/task.service.decision.spec.ts:504:5)\n    at Object.toThrow (C:\\VKR\\workflow-app\\task-service\\node_modules\\expect\\build\\index.js:218:22)\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:505:18)\n    at Promise.then.completed (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:444:34)","status":"Killed","static":false,"testsCompleted":2,"killedBy":["28"],"coveredBy":["9","28"],"location":{"end":{"column":51,"line":115},"start":{"column":35,"line":115}}},{"id":"62","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n- Object {\n-   \"where\": Object {\n-     \"id\": \"task-123\",\n-   },\n- }\n+ Object {},\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:155:45)","status":"Killed","static":false,"testsCompleted":8,"killedBy":["0"],"coveredBy":["0","1","2","3","7","33","34"],"location":{"end":{"column":78,"line":125},"start":{"column":53,"line":125}}},{"id":"64","mutatorName":"BooleanLiteral","replacement":"task","statusReason":"src/task/task.service.ts(131,9): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(135,40): error TS2769: No overload matches this call.\r\n  Overload 1 of 2, '(entities: Task[], options?: RemoveOptions | undefined): Promise<Task[]>', gave the following error.\r\n    Argument of type 'null' is not assignable to parameter of type 'Task[]'.\r\n  Overload 2 of 2, '(entity: Task, options?: RemoveOptions | undefined): Promise<Task>', gave the following error.\r\n    Argument of type 'null' is not assignable to parameter of type 'Task'.\r\n","status":"CompileError","static":false,"coveredBy":["0","1","2","3","7","33","34"],"location":{"end":{"column":14,"line":127},"start":{"column":9,"line":127}}},{"id":"63","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n-   \"where\": Object {\n-     \"id\": \"task-123\",\n-   },\n+   \"where\": Object {},\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:155:45)","status":"Killed","static":false,"testsCompleted":8,"killedBy":["0"],"coveredBy":["0","1","2","3","7","33","34"],"location":{"end":{"column":76,"line":125},"start":{"column":62,"line":125}}},{"id":"65","mutatorName":"ConditionalExpression","replacement":"true","statusReason":"src/task/task.service.ts(131,9): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(135,40): error TS2769: No overload matches this call.\r\n  Overload 1 of 2, '(entities: Task[], options?: RemoveOptions | undefined): Promise<Task[]>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'Task[]'.\r\n      Type 'null' is not assignable to type 'Task[]'.\r\n  Overload 2 of 2, '(entity: Task, options?: RemoveOptions | undefined): Promise<Task>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'Task'.\r\n      Type 'null' is not assignable to type 'Task'.\r\n","status":"CompileError","static":false,"coveredBy":["0","1","2","3","7","33","34"],"location":{"end":{"column":14,"line":127},"start":{"column":9,"line":127}}},{"id":"66","mutatorName":"ConditionalExpression","replacement":"false","statusReason":"src/task/task.service.ts(131,9): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(135,40): error TS2769: No overload matches this call.\r\n  Overload 1 of 2, '(entities: Task[], options?: RemoveOptions | undefined): Promise<Task[]>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'Task[]'.\r\n      Type 'null' is not assignable to type 'Task[]'.\r\n  Overload 2 of 2, '(entity: Task, options?: RemoveOptions | undefined): Promise<Task>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'Task'.\r\n      Type 'null' is not assignable to type 'Task'.\r\n","status":"CompileError","static":false,"coveredBy":["0","1","2","3","7","33","34"],"location":{"end":{"column":14,"line":127},"start":{"column":9,"line":127}}},{"id":"67","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(129,9): error TS18047: 'task' is possibly 'null'.\r\nsrc/task/task.service.ts(133,40): error TS2769: No overload matches this call.\r\n  Overload 1 of 2, '(entities: Task[], options?: RemoveOptions | undefined): Promise<Task[]>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'Task[]'.\r\n      Type 'null' is not assignable to type 'Task[]'.\r\n  Overload 2 of 2, '(entity: Task, options?: RemoveOptions | undefined): Promise<Task>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'Task'.\r\n      Type 'null' is not assignable to type 'Task'.\r\n","status":"CompileError","static":false,"coveredBy":["2","3","7"],"location":{"end":{"column":6,"line":129},"start":{"column":16,"line":127}}},{"id":"69","mutatorName":"ConditionalExpression","replacement":"true","statusReason":"src/task/task.service.ts(135,40): error TS2769: No overload matches this call.\r\n  Overload 1 of 2, '(entities: Task[], options?: RemoveOptions | undefined): Promise<Task[]>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'Task[]'.\r\n      Type 'null' is not assignable to type 'Task[]'.\r\n  Overload 2 of 2, '(entity: Task, options?: RemoveOptions | undefined): Promise<Task>', gave the following error.\r\n    Argument of type 'Task | null' is not assignable to parameter of type 'Task'.\r\n      Type 'null' is not assignable to type 'Task'.\r\n","status":"CompileError","static":false,"coveredBy":["0","1","33","34"],"location":{"end":{"column":35,"line":131},"start":{"column":9,"line":131}}},{"id":"68","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"Error: expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Task not found\"\nReceived message:   \"Not Found\"\n\n      234 |         } else {\n      235 |           stryCov_9fa48(\"67\");\n    > 236 |           throw new NotFoundException(stryMutAct_9fa48(\"68\") ? \"\" : (stryCov_9fa48(\"68\"), 'Task not found'));\n          |                 ^\n      237 |         }\n      238 |       }\n      239 |       if (stryMutAct_9fa48(\"71\") ? task.reporterId === userId : stryMutAct_9fa48(\"70\") ? false : stryMutAct_9fa48(\"69\") ? true : (stryCov_9fa48(\"69\", \"70\", \"71\"), task.reporterId !== userId)) {\n\n      at TaskService.deleteTask (src/task/task.service.ts:236:17)\n      at Object.<anonymous> (src/test/unit/task/task.service.decision.spec.ts:209:9)\n    at Object.toThrow (C:\\VKR\\workflow-app\\task-service\\node_modules\\expect\\build\\index.js:218:22)\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:209:74)\n    at Promise.then.completed (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:444:34)","status":"Killed","static":false,"testsCompleted":3,"killedBy":["7"],"coveredBy":["2","3","7"],"location":{"end":{"column":51,"line":128},"start":{"column":35,"line":128}}},{"id":"70","mutatorName":"ConditionalExpression","replacement":"false","statusReason":"Error: expect(received).rejects.toThrow()\n\nReceived promise resolved instead of rejected\nResolved to value: undefined\n    at expect (C:\\VKR\\workflow-app\\task-service\\node_modules\\expect\\build\\index.js:113:15)\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:149:19)\n    at Promise.then.completed (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:444:34)","status":"Killed","static":false,"testsCompleted":5,"killedBy":["1"],"coveredBy":["0","1","33","34"],"location":{"end":{"column":35,"line":131},"start":{"column":9,"line":131}}},{"id":"71","mutatorName":"EqualityOperator","replacement":"task.reporterId === userId","statusReason":"ForbiddenException: You can only delete tasks you created\n    at TaskService.deleteTask (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\task\\task.service.ts:244:17)\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:144:28)","status":"Killed","static":false,"testsCompleted":5,"killedBy":["0"],"coveredBy":["0","1","33","34"],"location":{"end":{"column":35,"line":131},"start":{"column":9,"line":131}}},{"id":"72","mutatorName":"BlockStatement","replacement":"{}","statusReason":"Error: expect(received).rejects.toThrow()\n\nReceived promise resolved instead of rejected\nResolved to value: undefined\n    at expect (C:\\VKR\\workflow-app\\task-service\\node_modules\\expect\\build\\index.js:113:15)\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:149:19)\n    at Promise.then.completed (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:444:34)","status":"Killed","static":false,"testsCompleted":3,"killedBy":["1"],"coveredBy":["1","34"],"location":{"end":{"column":6,"line":133},"start":{"column":37,"line":131}}},{"id":"74","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(138,47): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\r\n","status":"CompileError","static":false,"coveredBy":["10"],"location":{"end":{"column":4,"line":144},"start":{"column":63,"line":138}}},{"id":"73","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"Error: expect(received).rejects.toThrow(expected)\n\nExpected substring: \"You can only delete tasks you created\"\nReceived message:   \"Forbidden\"\n\n      242 |         } else {\n      243 |           stryCov_9fa48(\"72\");\n    > 244 |           throw new ForbiddenException(stryMutAct_9fa48(\"73\") ? \"\" : (stryCov_9fa48(\"73\"), 'You can only delete tasks you created'));\n          |                 ^\n      245 |         }\n      246 |       }\n      247 |       return this.tasksRepository.remove(task);\n\n      at TaskService.deleteTask (src/task/task.service.ts:244:17)\n      at Object.<anonymous> (src/test/unit/task/task.service.branch.spec.ts:181:7)\n    at Object.toThrow (C:\\VKR\\workflow-app\\task-service\\node_modules\\expect\\build\\index.js:218:22)\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.branch.spec.ts:181:82)\n    at Promise.then.completed (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\VKR\\workflow-app\\task-service\\node_modules\\jest-runner\\build\\runTest.js:444:34)","status":"Killed","static":false,"testsCompleted":3,"killedBy":["34"],"coveredBy":["1","34"],"location":{"end":{"column":75,"line":132},"start":{"column":36,"line":132}}},{"id":"75","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n- Object {\n-   \"order\": Object {\n-     \"createdAt\": \"DESC\",\n-   },\n-   \"relations\": Array [\n-     \"board\",\n-   ],\n-   \"where\": Object {\n-     \"assigneeId\": \"user-456\",\n-   },\n- }\n+ Object {},\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:230:38)","status":"Killed","static":false,"testsCompleted":1,"killedBy":["10"],"coveredBy":["10"],"location":{"end":{"column":6,"line":143},"start":{"column":38,"line":139}}},{"id":"76","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n@@ -3,9 +3,7 @@\n      \"createdAt\": \"DESC\",\n    },\n    \"relations\": Array [\n      \"board\",\n    ],\n-   \"where\": Object {\n-     \"assigneeId\": \"user-456\",\n-   },\n+   \"where\": Object {},\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:230:38)","status":"Killed","static":false,"testsCompleted":1,"killedBy":["10"],"coveredBy":["10"],"location":{"end":{"column":36,"line":140},"start":{"column":14,"line":140}}},{"id":"77","mutatorName":"ArrayDeclaration","replacement":"[]","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n    \"order\": Object {\n      \"createdAt\": \"DESC\",\n    },\n-   \"relations\": Array [\n-     \"board\",\n-   ],\n+   \"relations\": Array [],\n    \"where\": Object {\n      \"assigneeId\": \"user-456\",\n    },\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:230:38)","status":"Killed","static":false,"testsCompleted":1,"killedBy":["10"],"coveredBy":["10"],"location":{"end":{"column":27,"line":141},"start":{"column":18,"line":141}}},{"id":"78","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n    \"order\": Object {\n      \"createdAt\": \"DESC\",\n    },\n    \"relations\": Array [\n-     \"board\",\n+     \"\",\n    ],\n    \"where\": Object {\n      \"assigneeId\": \"user-456\",\n    },\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:230:38)","status":"Killed","static":false,"testsCompleted":1,"killedBy":["10"],"coveredBy":["10"],"location":{"end":{"column":26,"line":141},"start":{"column":19,"line":141}}},{"id":"79","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n@@ -1,9 +1,7 @@\n  Object {\n-   \"order\": Object {\n-     \"createdAt\": \"DESC\",\n-   },\n+   \"order\": Object {},\n    \"relations\": Array [\n      \"board\",\n    ],\n    \"where\": Object {\n      \"assigneeId\": \"user-456\",,\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:230:38)","status":"Killed","static":false,"testsCompleted":1,"killedBy":["10"],"coveredBy":["10"],"location":{"end":{"column":35,"line":142},"start":{"column":14,"line":142}}},{"id":"80","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"src/task/task.service.ts(142,16): error TS2322: Type '\"\"' is not assignable to type 'FindOptionsOrderValue | undefined'.\r\n","status":"CompileError","static":false,"coveredBy":["10"],"location":{"end":{"column":33,"line":142},"start":{"column":27,"line":142}}},{"id":"81","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(146,43): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\r\n","status":"CompileError","static":false,"coveredBy":["11","25"],"location":{"end":{"column":4,"line":155},"start":{"column":59,"line":146}}},{"id":"82","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n- Object {\n-   \"order\": Object {\n-     \"order\": \"ASC\",\n-   },\n-   \"where\": Object {\n-     \"boardId\": \"board-123\",\n-     \"sprintId\": FindOperator {\n-       \"@instanceof\": Symbol(FindOperator),\n-       \"_getSql\": undefined,\n-       \"_multipleParameters\": false,\n-       \"_objectLiteralParameters\": undefined,\n-       \"_type\": \"isNull\",\n-       \"_useParameter\": false,\n-       \"_value\": undefined,\n-     },\n-     \"status\": \"backlog\",\n-   },\n- }\n+ Object {},\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:466:21)","status":"Killed","static":false,"testsCompleted":2,"killedBy":["25"],"coveredBy":["11","25"],"location":{"end":{"column":6,"line":154},"start":{"column":38,"line":147}}},{"id":"83","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n    \"order\": Object {\n      \"order\": \"ASC\",\n    },\n-   \"where\": Object {\n-     \"boardId\": \"board-123\",\n-     \"sprintId\": FindOperator {\n-       \"@instanceof\": Symbol(FindOperator),\n-       \"_getSql\": undefined,\n-       \"_multipleParameters\": false,\n-       \"_objectLiteralParameters\": undefined,\n-       \"_type\": \"isNull\",\n-       \"_useParameter\": false,\n-       \"_value\": undefined,\n-     },\n-     \"status\": \"backlog\",\n-   },\n+   \"where\": Object {},\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:466:21)","status":"Killed","static":false,"testsCompleted":2,"killedBy":["25"],"coveredBy":["11","25"],"location":{"end":{"column":8,"line":152},"start":{"column":14,"line":148}}},{"id":"85","mutatorName":"StringLiteral","replacement":"\"\"","statusReason":"src/task/task.service.ts(153,16): error TS2322: Type '\"\"' is not assignable to type 'FindOptionsOrderValue | undefined'.\r\n","status":"CompileError","static":false,"coveredBy":["11","25"],"location":{"end":{"column":28,"line":153},"start":{"column":23,"line":153}}},{"id":"84","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n@@ -1,9 +1,7 @@\n  Object {\n-   \"order\": Object {\n-     \"order\": \"ASC\",\n-   },\n+   \"order\": Object {},\n    \"where\": Object {\n      \"boardId\": \"board-123\",\n      \"sprintId\": FindOperator {\n        \"@instanceof\": Symbol(FindOperator),\n        \"_getSql\": undefined,,\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:466:21)","status":"Killed","static":false,"testsCompleted":2,"killedBy":["25"],"coveredBy":["11","25"],"location":{"end":{"column":30,"line":153},"start":{"column":14,"line":153}}},{"id":"86","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(157,41): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\r\n","status":"CompileError","static":false,"coveredBy":["12","26"],"location":{"end":{"column":4,"line":159},"start":{"column":57,"line":157}}},{"id":"87","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n- Object {\n-   \"where\": Object {\n-     \"sprintId\": \"sprint-123\",\n-   },\n- }\n+ Object {},\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:484:21)","status":"Killed","static":false,"testsCompleted":2,"killedBy":["26"],"coveredBy":["12","26"],"location":{"end":{"column":61,"line":158},"start":{"column":38,"line":158}}},{"id":"88","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n-   \"where\": Object {\n-     \"sprintId\": \"sprint-123\",\n-   },\n+   \"where\": Object {},\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:484:21)","status":"Killed","static":false,"testsCompleted":2,"killedBy":["26"],"coveredBy":["12","26"],"location":{"end":{"column":59,"line":158},"start":{"column":47,"line":158}}},{"id":"89","mutatorName":"BlockStatement","replacement":"{}","statusReason":"src/task/task.service.ts(161,39): error TS2355: A function whose declared type is neither 'undefined', 'void', nor 'any' must return a value.\r\n","status":"CompileError","static":false,"coveredBy":["13","14"],"location":{"end":{"column":4,"line":165},"start":{"column":53,"line":161}}},{"id":"90","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n- Object {\n-   \"where\": Object {\n-     \"id\": \"task-123\",\n-   },\n- }\n+ Object {},\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:248:28)","status":"Killed","static":false,"testsCompleted":2,"killedBy":["13"],"coveredBy":["13","14"],"location":{"end":{"column":78,"line":162},"start":{"column":53,"line":162}}},{"id":"91","mutatorName":"ObjectLiteral","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n-   \"where\": Object {\n-     \"id\": \"task-123\",\n-   },\n+   \"where\": Object {},\n  },\n\nNumber of calls: 1\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:248:28)","status":"Killed","static":false,"testsCompleted":2,"killedBy":["13"],"coveredBy":["13","14"],"location":{"end":{"column":76,"line":162},"start":{"column":62,"line":162}}},{"id":"92","mutatorName":"BooleanLiteral","replacement":"task","statusReason":"src/task/task.service.ts(164,5): error TS2322: Type 'null' is not assignable to type 'Task'.\r\n","status":"CompileError","static":false,"coveredBy":["13","14"],"location":{"end":{"column":13,"line":163},"start":{"column":8,"line":163}}},{"id":"93","mutatorName":"ConditionalExpression","replacement":"true","statusReason":"src/task/task.service.ts(164,5): error TS2322: Type 'Task | null' is not assignable to type 'Task'.\r\n  Type 'null' is not assignable to type 'Task'.\r\n","status":"CompileError","static":false,"coveredBy":["13","14"],"location":{"end":{"column":13,"line":163},"start":{"column":8,"line":163}}},{"id":"94","mutatorName":"ConditionalExpression","replacement":"false","statusReason":"src/task/task.service.ts(164,5): error TS2322: Type 'Task | null' is not assignable to type 'Task'.\r\n  Type 'null' is not assignable to type 'Task'.\r\n","status":"CompileError","static":false,"coveredBy":["13","14"],"location":{"end":{"column":13,"line":163},"start":{"column":8,"line":163}}},{"id":"95","mutatorName":"BlockStatement","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalled()\n\nExpected number of calls: >= 1\nReceived number of calls:    0\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:357:25)","status":"Killed","static":false,"testsCompleted":3,"killedBy":["21"],"coveredBy":["21","23","32"],"location":{"end":{"column":4,"line":178},"start":{"column":57,"line":167}}},{"id":"96","mutatorName":"BlockStatement","replacement":"{}","statusReason":"Error: expect(jest.fn()).toHaveBeenCalled()\n\nExpected number of calls: >= 1\nReceived number of calls:    0\n    at Object.<anonymous> (C:\\VKR\\workflow-app\\task-service\\.stryker-tmp\\sandbox-FSkfO8\\src\\test\\unit\\task\\task.service.decision.spec.ts:357:25)","status":"Killed","static":false,"testsCompleted":3,"killedBy":["21"],"coveredBy":["21","23","32"],"location":{"end":{"column":4,"line":175},"start":{"column":7,"line":168}}},{"id":"97","mutatorName":"StringLiteral","replacement":"``","status":"Survived","static":false,"testsCompleted":3,"coveredBy":["21","23","32"],"location":{"end":{"column":84,"line":171},"start":{"column":9,"line":171}}},{"id":"98","mutatorName":"ConditionalExpression","replacement":"true","status":"Survived","static":false,"testsCompleted":3,"coveredBy":["21","23","32"],"location":{"end":{"column":68,"line":171},"start":{"column":12,"line":171}}},{"id":"99","mutatorName":"ConditionalExpression","replacement":"false","status":"Survived","static":false,"testsCompleted":3,"coveredBy":["21","23","32"],"location":{"end":{"column":68,"line":171},"start":{"column":12,"line":171}}},{"id":"100","mutatorName":"LogicalOperator","replacement":"process.env.API_GATEWAY_URL && 'http://api-gateway:3000'","status":"Survived","static":false,"testsCompleted":3,"coveredBy":["21","23","32"],"location":{"end":{"column":68,"line":171},"start":{"column":12,"line":171}}},{"id":"101","mutatorName":"StringLiteral","replacement":"\"\"","status":"Survived","static":false,"testsCompleted":3,"coveredBy":["21","23","32"],"location":{"end":{"column":68,"line":171},"start":{"column":43,"line":171}}}],"source":"/* eslint-disable prettier/prettier */\r\nimport { Injectable, NotFoundException, ForbiddenException } from '@nestjs/common';\r\nimport { InjectRepository } from '@nestjs/typeorm';\r\nimport { Repository, IsNull } from 'typeorm';\r\nimport { Task } from '../entities/task.entity';\r\nimport { Board } from '../entities/board.entity';\r\nimport { Sprint } from '../entities/sprint.entity';\r\nimport { CreateTaskDto, TaskStatus, UpdateTaskDto } from '../../types/src';\r\nimport { HttpService } from '@nestjs/axios';\r\nimport { firstValueFrom } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class TaskService {\r\n  constructor(\r\n    @InjectRepository(Task)\r\n    private readonly tasksRepository: Repository<Task>,\r\n    @InjectRepository(Board)\r\n    private readonly boardsRepository: Repository<Board>,\r\n    @InjectRepository(Sprint)\r\n    private readonly sprintsRepository: Repository<Sprint>,\r\n    private readonly httpService: HttpService,\r\n  ) {}\r\n\r\n  async getBoardById(boardId: string): Promise<Board> {\r\n    const board = await this.boardsRepository.findOne({\r\n      where: { id: boardId },\r\n      relations: ['tasks'],\r\n    });\r\n\r\n    if (!board) {\r\n      throw new NotFoundException('Board not found');\r\n    }\r\n\r\n    return board;\r\n  }\r\n\r\n  async createTask(boardId: string, createTaskDto: CreateTaskDto, currentUserId: string): Promise<Task> {\r\n    const board = await this.getBoardById(boardId);\r\n    \r\n    try {\r\n      await firstValueFrom(\r\n        this.httpService.get(`${process.env.API_GATEWAY_URL || 'http://api-gateway:3000'}/users/${createTaskDto.assigneeId}`)\r\n      );\r\n    } catch (error) {\r\n      // console.log('Error', error)\r\n      // console.warn(`Assignee ${createTaskDto.assigneeId} not found, using current user: ${currentUserId}`);\r\n      createTaskDto.assigneeId = currentUserId;\r\n    }\r\n\r\n    const task = this.tasksRepository.create({\r\n      ...createTaskDto,\r\n      boardId: board.id,\r\n      reporterId: currentUserId,\r\n      status: createTaskDto.status || TaskStatus.TODO,\r\n    });\r\n\r\n    const savedTask = await this.tasksRepository.save(task);\r\n\r\n    if (createTaskDto.assigneeId !== currentUserId) {\r\n    await this.sendNotification({\r\n        userId: createTaskDto.assigneeId,\r\n        title: 'Новая задача назначена',\r\n        message: `Вам назначена задача \"${createTaskDto.title}\"`,\r\n        type: 'task_assigned',\r\n        data: {\r\n          taskId: savedTask.id,\r\n          boardId: boardId,\r\n          assignedBy: currentUserId\r\n        }\r\n      });\r\n    }\r\n\r\n    return savedTask;\r\n\r\n  }\r\n\r\n  async getBoardTasks(boardId: string): Promise<Task[]> {\r\n    await this.getBoardById(boardId);\r\n    return this.tasksRepository.find({\r\n      where: { boardId },\r\n      order: { order: 'ASC', createdAt: 'DESC' },\r\n    });\r\n  }\r\n\r\n  async getTaskById(taskId: string): Promise<Task> {\r\n    const task = await this.tasksRepository.findOne({\r\n      where: { id: taskId },\r\n    });\r\n\r\n    if (!task) {\r\n      throw new NotFoundException('Task not found');\r\n    }\r\n\r\n    return task;\r\n  }\r\n\r\n\r\n  async updateTask(taskId: string, updateTaskDto: UpdateTaskDto): Promise<Task> {\r\n    const task = await this.tasksRepository.findOne({ where: { id: taskId } });\r\n    \r\n    if (!task) {\r\n      throw new NotFoundException('Task not found');\r\n    }\r\n\r\n    Object.assign(task, updateTaskDto);\r\n    task.updatedAt = new Date();\r\n\r\n    return await this.tasksRepository.save(task);\r\n  }\r\n\r\n  async updateTaskStatus(taskId: string, status: TaskStatus, order: number): Promise<Task> {\r\n    const task = await this.tasksRepository.findOne({ where: { id: taskId } });\r\n    \r\n    if (!task) {\r\n      throw new NotFoundException('Task not found');\r\n    }\r\n\r\n    task.status = status;\r\n    task.order = order;\r\n\r\n    return this.tasksRepository.save(task);\r\n  }\r\n\r\n  async deleteTask(taskId: string, userId: string): Promise<Task> {\r\n    const task = await this.tasksRepository.findOne({ where: { id: taskId } });\r\n    \r\n    if (!task) {\r\n      throw new NotFoundException('Task not found');\r\n    }\r\n\r\n    if (task.reporterId !== userId) {\r\n      throw new ForbiddenException('You can only delete tasks you created');\r\n    }\r\n\r\n    return this.tasksRepository.remove(task);\r\n  }\r\n\r\n  async getUserAssignedTasks(userId: string): Promise<Task[]> {\r\n    return this.tasksRepository.find({\r\n      where: { assigneeId: userId },\r\n      relations: ['board'],\r\n      order: { createdAt: 'DESC' },\r\n    });\r\n  }\r\n\r\n  async getBacklogTasks(boardId: string): Promise<Task[]> {\r\n    return this.tasksRepository.find({\r\n      where: { \r\n        boardId,\r\n        sprintId: IsNull(),\r\n        status: TaskStatus.BACKLOG\r\n      },\r\n      order: { order: 'ASC' },\r\n    });\r\n  }\r\n\r\n  async findBySprint(sprintId: string): Promise<Task[]> {\r\n    return this.tasksRepository.find({ where: { sprintId } });\r\n  }\r\n\r\n  async findTaskById(taskId: string): Promise<Task> {\r\n    const task = await this.tasksRepository.findOne({ where: { id: taskId } });\r\n    if(!task) throw new NotFoundException\r\n    return task;\r\n  }\r\n\r\n  private async sendNotification(notificationData: any) {\r\n  try {\r\n    await firstValueFrom(\r\n      this.httpService.post(\r\n        `${process.env.API_GATEWAY_URL || 'http://api-gateway:3000'}/notifications`,\r\n        notificationData\r\n      )\r\n    );\r\n  } catch (error) {\r\n      // console.error('Failed to send notification:', error);\r\n    }\r\n  }\r\n}"}},"schemaVersion":"1.0","thresholds":{"high":80,"low":60,"break":null},"testFiles":{"src/test/unit/task/task.service.decision.spec.ts":{"tests":[{"id":"0","name":"TaskService - Decision Testing Тестирование решений в методе deleteTask Тестовый случай 1: Задача существует и пользователь - создатель (true/false) должен корректно обработать задачу","location":{"start":{"column":14,"line":127}}},{"id":"1","name":"TaskService - Decision Testing Тестирование решений в методе deleteTask Тестовый случай 2: Задача существует, но пользователь не создатель (true/false) должен корректно обработать задачу","location":{"start":{"column":14,"line":127}}},{"id":"2","name":"TaskService - Decision Testing Тестирование решений в методе deleteTask Тестовый случай 3: Задача не существует (true/false) должен корректно обработать задачу","location":{"start":{"column":14,"line":127}}},{"id":"3","name":"TaskService - Decision Testing Тестирование решений в методе deleteTask Тестовый случай 4: Задача не существует (true/false) должен корректно обработать задачу","location":{"start":{"column":14,"line":127}}},{"id":"4","name":"TaskService - Decision Testing Тестирование решений в методе updateTask должен обновить задачу, если она существует (решение true)","location":{"start":{"column":6,"line":163}}},{"id":"5","name":"TaskService - Decision Testing Тестирование решений в методе updateTask должен выбросить NotFoundException, если задача не существует (решение false)","location":{"start":{"column":6,"line":184}}},{"id":"6","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен обновить с Object.assign (эквивалентное решение)","location":{"start":{"column":6,"line":197}}},{"id":"7","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен выбросить точное сообщение в deleteTask (с решением task false)","location":{"start":{"column":6,"line":206}}},{"id":"8","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен обновить статус задачи (решение: существует?)","location":{"start":{"column":6,"line":211}}},{"id":"9","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен выбросить NotFoundException в updateTaskStatus (решение false)","location":{"start":{"column":6,"line":221}}},{"id":"10","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен вернуть задачи пользователя (эквивалентный класс по assigneeId)","location":{"start":{"column":6,"line":225}}},{"id":"11","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен вернуть backlog задачи (эквивалентный класс по статусу)","location":{"start":{"column":6,"line":235}}},{"id":"12","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен вернуть задачи по спринту (эквивалентный класс)","location":{"start":{"column":6,"line":240}}},{"id":"13","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен проверить findTaskById (решение: существует?)","location":{"start":{"column":6,"line":244}}},{"id":"14","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен выбросить NotFoundException в findTaskById (решение false)","location":{"start":{"column":6,"line":251}}},{"id":"15","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен обновить задачей с эквивалентными обновлениями (класс валидных DTO)","location":{"start":{"column":6,"line":257}}},{"id":"16","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен обновить статус на границе (эквивалентные статусы TODO/DONE)","location":{"start":{"column":6,"line":264}}},{"id":"17","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен вернуть задачи доски с правильным порядком","location":{"start":{"column":6,"line":274}}},{"id":"18","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен вернуть задачу по ID","location":{"start":{"column":6,"line":292}}},{"id":"19","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен выбросить исключение если задача не найдена в getTaskById","location":{"start":{"column":6,"line":303}}},{"id":"20","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен использовать значение по умолчанию для статуса","location":{"start":{"column":6,"line":309}}},{"id":"21","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен отправлять уведомление только если assignee отличается от reporter","location":{"start":{"column":6,"line":335}}},{"id":"22","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   НЕ должен отправлять уведомление если assignee совпадает с reporter","location":{"start":{"column":6,"line":359}}},{"id":"23","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен проверять корректность данных в уведомлении","location":{"start":{"column":6,"line":385}}},{"id":"24","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен изменять assigneeId в блоке catch","location":{"start":{"column":6,"line":427}}},{"id":"25","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен вернуть backlog задачи с правильными параметрами запроса","location":{"start":{"column":6,"line":456}}},{"id":"26","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен вернуть задачи по спринту с правильным условием where","location":{"start":{"column":6,"line":475}}},{"id":"27","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен выбросить NotFoundException с правильным сообщением в updateTask","location":{"start":{"column":6,"line":488}}},{"id":"28","name":"TaskService - Decision Testing Тесты после выявленных первой мутацией уязвимостей   должен выбросить NotFoundException с правильным сообщением в updateTaskStatus","location":{"start":{"column":6,"line":498}}}],"source":"/* eslint-disable prettier/prettier */\r\n/* eslint-disable @typescript-eslint/no-unsafe-argument */\r\n/* eslint-disable @typescript-eslint/unbound-method */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n\r\nimport { Test, TestingModule } from '@nestjs/testing';\r\nimport { getRepositoryToken } from '@nestjs/typeorm';\r\nimport { IsNull, Repository } from 'typeorm';\r\nimport { HttpService } from '@nestjs/axios';\r\nimport { of, throwError } from 'rxjs';\r\nimport { TaskService } from '../../../task/task.service';\r\nimport { Task } from '../../../entities/task.entity';\r\nimport { Board } from '../../../entities/board.entity';\r\nimport { NotFoundException, ForbiddenException } from '@nestjs/common';\r\nimport { Sprint } from '../../../entities/sprint.entity';\r\nimport { CreateTaskDto, TaskPriority, TaskStatus } from 'types/src';\r\n\r\ndescribe('TaskService - Decision Testing', () => {\r\n  let taskService: TaskService;\r\n  let tasksRepository: Repository<Task>;\r\n  let boardsRepository: Repository<Board>;\r\n  let httpService: HttpService;\r\n\r\n  const mockBoard = {\r\n    id: 'board-123',\r\n    name: 'Test Board',\r\n    tasks: []\r\n  };\r\n\r\n  const mockTask = {\r\n    id: 'task-123',\r\n    title: 'Test Task',\r\n    description: 'Test Description',\r\n    status: TaskStatus.TODO,\r\n    reporterId: 'user-123',\r\n    assigneeId: 'user-456',\r\n    boardId: 'board-123',\r\n    createdAt: new Date(),\r\n  };\r\n\r\n\r\n\r\n  beforeEach(async () => {\r\n    const module: TestingModule = await Test.createTestingModule({\r\n      providers: [\r\n        TaskService,\r\n        {\r\n          provide: getRepositoryToken(Task),\r\n          useValue: {\r\n            findOne: jest.fn(),\r\n            create: jest.fn(),\r\n            save: jest.fn(),\r\n            find: jest.fn(),\r\n            remove: jest.fn(),\r\n          },\r\n        },\r\n        {\r\n          provide: getRepositoryToken(Board),\r\n          useValue: {\r\n            findOne: jest.fn(),\r\n          },\r\n        },\r\n        {\r\n          provide: getRepositoryToken(Sprint),\r\n          useValue: {\r\n            findOne: jest.fn(),\r\n          },\r\n        },\r\n        {\r\n          provide: HttpService,\r\n          useValue: {\r\n            get: jest.fn(),\r\n            post: jest.fn(),\r\n          },\r\n        },\r\n      ],\r\n    }).compile();\r\n\r\n    taskService = module.get<TaskService>(TaskService);\r\n    tasksRepository = module.get(getRepositoryToken(Task));\r\n    boardsRepository = module.get(getRepositoryToken(Board));\r\n    httpService = module.get(HttpService);\r\n  });\r\n\r\n  describe('Тестирование решений в методе deleteTask', () => {\r\n\r\n    const decisionTable = [\r\n      {\r\n        testCase: '1',\r\n        taskExists: true,\r\n        isReporter: true,\r\n        expectedResult: 'success',\r\n        description: 'Задача существует и пользователь - создатель (true/false)'\r\n      },\r\n      {\r\n        testCase: '2',\r\n        taskExists: true,\r\n        isReporter: false,\r\n        expectedResult: 'ForbiddenException',\r\n        description: 'Задача существует, но пользователь не создатель (true/false)'\r\n      },\r\n      {\r\n        testCase: '3',\r\n        taskExists: false,\r\n        isReporter: false, \r\n        expectedResult: 'NotFoundException',\r\n        description: 'Задача не существует (true/false)'\r\n      },\r\n      {\r\n        testCase: '4',\r\n        taskExists: false,\r\n        isReporter: true, \r\n        expectedResult: 'NotFoundException',\r\n        description: 'Задача не существует (true/false)'\r\n      },\r\n    ];\r\n\r\n    decisionTable.forEach(({ testCase, taskExists, isReporter, expectedResult, description }) => {\r\n            describe(`Тестовый случай ${testCase}: ${description}`, () => {\r\n                // if (!taskExists) {\r\n                // it.skip('Задача не существует - тест пропущен по assumption', () => {\r\n                    \r\n                // });\r\n                // return;\r\n                // }\r\n            it(`должен корректно обработать задачу`, async () => {\r\n            const userId = 'current-user';\r\n\r\n            const task = taskExists ? { \r\n            ...mockTask, \r\n            reporterId: isReporter ? userId : 'another-user' \r\n            } : null;\r\n\r\n            \r\n            jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(task as any);\r\n            \r\n            if (expectedResult === 'success') {\r\n            jest.spyOn(tasksRepository, 'remove').mockResolvedValue(task as any);\r\n            }\r\n            \r\n            if (expectedResult === 'success') {\r\n            const result = await taskService.deleteTask('task-123', userId);\r\n            console.log(`result.id: ${result.id}, task.id: ${task?.id}`)\r\n            expect(result).toEqual(task);\r\n            expect(tasksRepository.remove).toHaveBeenCalled();\r\n            } else if (expectedResult === 'ForbiddenException') {\r\n            await expect(taskService.deleteTask('task-123', userId))\r\n                .rejects.toThrow(ForbiddenException);\r\n            } else if (expectedResult === 'NotFoundException') {\r\n            await expect(taskService.deleteTask('task-123', userId))\r\n                .rejects.toThrow(NotFoundException);\r\n            }\r\n            expect(tasksRepository.findOne).toHaveBeenCalledWith({\r\n                where: { id: 'task-123' }\r\n            });\r\n        });\r\n        });\r\n    });\r\n  });\r\n\r\n  describe('Тестирование решений в методе updateTask', () => {\r\n    it('должен обновить задачу, если она существует (решение true)', async () => {\r\n        \r\n        const findOneSpy = jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(mockTask as any);\r\n        jest.spyOn(tasksRepository, 'save').mockResolvedValue({\r\n            ...mockTask,\r\n            title: 'Updated Title'\r\n        } as any);\r\n\r\n        const updateTaskDto = { title: 'Updated Title' };\r\n\r\n        \r\n        const result = await taskService.updateTask('task-123', updateTaskDto);\r\n\r\n        \r\n        expect(result.title).toBe('Updated Title');\r\n        expect(tasksRepository.save).toHaveBeenCalled();\r\n        expect(findOneSpy).toHaveBeenCalledWith({\r\n            where: { id: 'task-123' }\r\n        });\r\n    });\r\n\r\n    it('должен выбросить NotFoundException, если задача не существует (решение false)', async () => {\r\n      \r\n      jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(null);\r\n\r\n      const updateTaskDto = { title: 'Updated Title' };\r\n\r\n      \r\n      await expect(taskService.updateTask('task-123', updateTaskDto))\r\n        .rejects.toThrow(NotFoundException);\r\n    });\r\n  });\r\n\r\n    describe('Тесты после выявленных первой мутацией уязвимостей  ', () => {\r\n    it('должен обновить с Object.assign (эквивалентное решение)', async () => {\r\n        jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(mockTask as any);\r\n        jest.spyOn(tasksRepository, 'save').mockResolvedValue({ ...mockTask, status: TaskStatus.DONE } as any);\r\n        const updateTaskDto = { status: TaskStatus.DONE };\r\n        const result = await taskService.updateTask('task-123', updateTaskDto);\r\n        expect(result.status).toBe(TaskStatus.DONE);\r\n        expect(tasksRepository.save).toHaveBeenCalled();\r\n    });\r\n\r\n    it('должен выбросить точное сообщение в deleteTask (с решением task false)', async () => {\r\n        jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(null);\r\n        await expect(taskService.deleteTask('task-123', 'user')).rejects.toThrow('Task not found');\r\n    });\r\n\r\n    it('должен обновить статус задачи (решение: существует?)', async () => {\r\n        const findOneSpy = jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(mockTask as any);\r\n        jest.spyOn(tasksRepository, 'save').mockResolvedValue({ ...mockTask, status: TaskStatus.DONE, order: 1 } as any);\r\n        const result = await taskService.updateTaskStatus('task-123', TaskStatus.DONE as any, 1);\r\n        expect(result.status).toBe(TaskStatus.DONE);\r\n        expect(result.order).toBe(1);\r\n        expect(findOneSpy).toHaveBeenCalledWith({\r\n            where: { id: 'task-123' }\r\n        });\r\n    });\r\n    it('должен выбросить NotFoundException в updateTaskStatus (решение false)', async () => {\r\n        jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(null);\r\n        await expect(taskService.updateTaskStatus('task-999', TaskStatus.TODO as any, 0)).rejects.toThrow(NotFoundException);\r\n    });\r\n    it('должен вернуть задачи пользователя (эквивалентный класс по assigneeId)', async () => {\r\n        jest.spyOn(tasksRepository, 'find').mockResolvedValue([mockTask]);\r\n        const result = await taskService.getUserAssignedTasks('user-456');\r\n        expect(result).toEqual([mockTask]);\r\n        expect(tasksRepository.find).toHaveBeenCalledWith({\r\n        where: { assigneeId: 'user-456' },\r\n        relations: ['board'],\r\n            order: { createdAt: 'DESC' },\r\n        });\r\n    });\r\n    it('должен вернуть backlog задачи (эквивалентный класс по статусу)', async () => {\r\n        jest.spyOn(tasksRepository, 'find').mockResolvedValue([mockTask]);\r\n        const result = await taskService.getBacklogTasks('board-123');\r\n        expect(result).toEqual([mockTask]);\r\n    });\r\n    it('должен вернуть задачи по спринту (эквивалентный класс)', async () => {\r\n        jest.spyOn(tasksRepository, 'find').mockResolvedValue([mockTask]);\r\n        await expect(taskService.findBySprint('sprint-123')).resolves.toEqual([mockTask]);\r\n    });\r\n    it('должен проверить findTaskById (решение: существует?)', async () => {\r\n        const findOneSpy = jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(mockTask as any);\r\n        await expect(taskService.findTaskById('task-123')).resolves.toEqual(mockTask);\r\n        expect(findOneSpy).toHaveBeenCalledWith({\r\n            where: { id: 'task-123' }\r\n        });\r\n    });\r\n    it('должен выбросить NotFoundException в findTaskById (решение false)', async () => {\r\n        jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(null);\r\n        await expect(taskService.findTaskById('task-999')).rejects.toThrow(NotFoundException);\r\n    });\r\n\r\n    // Equivalence \r\n    it('должен обновить задачей с эквивалентными обновлениями (класс валидных DTO)', async () => {\r\n        jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(mockTask as any);\r\n        jest.spyOn(tasksRepository, 'save').mockResolvedValue({ ...mockTask, priority: TaskPriority.HIGH } as any);\r\n        const updateTaskDto = { priority: TaskPriority.HIGH };\r\n        const result = await taskService.updateTask('task-123', updateTaskDto);\r\n        expect(result.priority).toBe(TaskPriority.HIGH);\r\n    });\r\n    it('должен обновить статус на границе (эквивалентные статусы TODO/DONE)', async () => {\r\n        jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(mockTask as any);\r\n        jest.spyOn(tasksRepository, 'save').mockResolvedValue({ ...mockTask, status: TaskStatus.DONE } as any);\r\n        const result = await taskService.updateTaskStatus('task-123', TaskStatus.DONE as any, 10);\r\n        expect(result.status).toBe(TaskStatus.DONE);\r\n    });\r\n\r\n\r\n\r\n\r\n    it('должен вернуть задачи доски с правильным порядком', async () => {\r\n        const mockTasks = [\r\n        { ...mockTask, id: 'task-1', order: 1 },\r\n        { ...mockTask, id: 'task-2', order: 2 }\r\n        ];\r\n        \r\n        jest.spyOn(boardsRepository, 'findOne').mockResolvedValue(mockBoard as any);\r\n        jest.spyOn(tasksRepository, 'find').mockResolvedValue(mockTasks);\r\n        \r\n        const result = await taskService.getBoardTasks('board-123');\r\n        \r\n        expect(result).toEqual(mockTasks);\r\n        expect(tasksRepository.find).toHaveBeenCalledWith({\r\n        where: { boardId: 'board-123' },\r\n        order: { order: 'ASC', createdAt: 'DESC' }\r\n        });\r\n    });\r\n    \r\n    it('должен вернуть задачу по ID', async () => {\r\n        jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(mockTask as any);\r\n        \r\n        const result = await taskService.getTaskById('task-123');\r\n        \r\n        expect(result).toEqual(mockTask);\r\n        expect(tasksRepository.findOne).toHaveBeenCalledWith({\r\n        where: { id: 'task-123' }\r\n        });\r\n    });\r\n    \r\n    it('должен выбросить исключение если задача не найдена в getTaskById', async () => {\r\n        jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(null);\r\n        \r\n        await expect(taskService.getTaskById('task-999'))\r\n        .rejects.toThrow('Task not found');\r\n    });\r\n    it('должен использовать значение по умолчанию для статуса', async () => {\r\n        jest.spyOn(boardsRepository, 'findOne').mockResolvedValue(mockBoard as any);\r\n        jest.spyOn(httpService, 'get').mockReturnValue(throwError(() => new Error()));\r\n        jest.spyOn(tasksRepository, 'create').mockReturnValue(mockTask as any);\r\n        jest.spyOn(tasksRepository, 'save').mockResolvedValue(mockTask as any);\r\n        // Не указываем статус (Partial)\r\n        const createTaskDto: Partial<CreateTaskDto> = {\r\n            title: 'Test Task',\r\n            assigneeId: 'user-456',\r\n            description: '',\r\n            priority: TaskPriority.LOW,\r\n            reporterId: '',\r\n            tags: [],\r\n            boardId: ''\r\n        };\r\n        \r\n        await taskService.createTask('board-123', createTaskDto as CreateTaskDto, 'user-123');\r\n        \r\n        // Проверяем, что при создании задачи используется TaskStatus.TODO по умолчанию\r\n        expect(tasksRepository.create).toHaveBeenCalledWith(\r\n        expect.objectContaining({\r\n            status: TaskStatus.TODO\r\n        })\r\n        );\r\n    });\r\n    \r\n    it('должен отправлять уведомление только если assignee отличается от reporter', async () => {\r\n        jest.spyOn(boardsRepository, 'findOne').mockResolvedValue(mockBoard as any);\r\n        jest.spyOn(httpService, 'get').mockReturnValue(of({ data: { id: 'user-456' } } as any));\r\n        jest.spyOn(tasksRepository, 'create').mockReturnValue(mockTask as any);\r\n        jest.spyOn(tasksRepository, 'save').mockResolvedValue(mockTask as any);\r\n        const postSpy = jest.spyOn(httpService, 'post').mockReturnValue(of({} as any));\r\n        \r\n        const createTaskDto: CreateTaskDto = {\r\n        title: 'Test Task',\r\n        assigneeId: 'user-456', // Отличается от currentUserId\r\n        status: TaskStatus.TODO,\r\n        description: '',\r\n        priority: TaskPriority.LOW,\r\n        reporterId: '',\r\n        tags: [],\r\n        boardId: ''\r\n        };\r\n        \r\n        await taskService.createTask('board-123', createTaskDto, 'user-123');\r\n        \r\n        // Должен быть вызов отправки уведомления\r\n        expect(postSpy).toHaveBeenCalled();\r\n    });\r\n    \r\n    it('НЕ должен отправлять уведомление если assignee совпадает с reporter', async () => {\r\n        jest.spyOn(boardsRepository, 'findOne').mockResolvedValue(mockBoard as any);\r\n        jest.spyOn(httpService, 'get').mockReturnValue(of({ data: { id: 'user-123' } } as any));\r\n        jest.spyOn(tasksRepository, 'create').mockReturnValue(mockTask as any);\r\n        jest.spyOn(tasksRepository, 'save').mockResolvedValue(mockTask as any);\r\n        const postSpy = jest.spyOn(httpService, 'post').mockReturnValue(of({} as any));\r\n        \r\n        const createTaskDto: CreateTaskDto = {\r\n        title: 'Test Task',\r\n        assigneeId: 'user-123', // Совпадает с currentUserId\r\n        status: TaskStatus.TODO,\r\n        description: '',\r\n        priority: TaskPriority.LOW,\r\n        reporterId: '',\r\n        tags: [],\r\n        boardId: ''\r\n        };\r\n        \r\n        await taskService.createTask('board-123', createTaskDto, 'user-123');\r\n        \r\n        // НЕ должен быть вызов отправки уведомления\r\n        expect(postSpy).not.toHaveBeenCalled();\r\n    });\r\n\r\n\r\n\r\n    it('должен проверять корректность данных в уведомлении', async () => {\r\n  \r\n    jest.spyOn(boardsRepository, 'findOne').mockResolvedValue(mockBoard as any);\r\n    jest.spyOn(httpService, 'get').mockReturnValue(of({ data: { id: 'user-456' } } as any));\r\n    \r\n    const mockSavedTask = { ...mockTask, id: 'new-task-123' };\r\n    jest.spyOn(tasksRepository, 'create').mockReturnValue(mockTask as any);\r\n    jest.spyOn(tasksRepository, 'save').mockResolvedValue(mockSavedTask as any);\r\n    \r\n    const postSpy = jest.spyOn(httpService, 'post').mockReturnValue(of({} as any));\r\n    \r\n    const createTaskDto: CreateTaskDto = {\r\n        title: 'Важная задача',\r\n        assigneeId: 'user-456',\r\n        status: TaskStatus.TODO,\r\n        description: 'Описание задачи',\r\n        priority: TaskPriority.HIGH,\r\n        reporterId: '',\r\n        tags: [],\r\n        boardId: ''\r\n    };\r\n    \r\n    \r\n    await taskService.createTask('board-123', createTaskDto, 'user-123');\r\n    \r\n    // Проверяем  параметры уведомления\r\n    expect(postSpy).toHaveBeenCalledWith(\r\n        expect.any(String), // URL\r\n        {\r\n        userId: 'user-456',\r\n        title: 'Новая задача назначена',\r\n        message: 'Вам назначена задача \"Важная задача\"',\r\n        type: 'task_assigned',\r\n        data: {\r\n            taskId: 'new-task-123',\r\n            boardId: 'board-123',\r\n            assignedBy: 'user-123'\r\n        }\r\n        }\r\n    );\r\n    });\r\n\r\n    it('должен изменять assigneeId в блоке catch', async () => {\r\n    \r\n    jest.spyOn(boardsRepository, 'findOne').mockResolvedValue(mockBoard as any);\r\n    jest.spyOn(httpService, 'get').mockReturnValue(throwError(() => new Error('User not found')));\r\n    jest.spyOn(tasksRepository, 'create').mockReturnValue(mockTask as any);\r\n    jest.spyOn(tasksRepository, 'save').mockResolvedValue(mockTask as any);\r\n    \r\n    const createTaskDto: CreateTaskDto = {\r\n        title: 'Test Task',\r\n        assigneeId: 'non-existent-user',\r\n        status: TaskStatus.TODO,\r\n        description: '',\r\n        priority: TaskPriority.LOW,\r\n        reporterId: '',\r\n        tags: [],\r\n        boardId: ''\r\n    };\r\n    \r\n    \r\n    await taskService.createTask('board-123', createTaskDto, 'current-user-123');\r\n    \r\n    // Проверяем, что create вызывается с измененным assigneeId\r\n    expect(tasksRepository.create).toHaveBeenCalledWith(\r\n        expect.objectContaining({\r\n        assigneeId: 'current-user-123' // Должен быть изменен после catch\r\n        })\r\n    );\r\n    });\r\n\r\n    it('должен вернуть backlog задачи с правильными параметрами запроса', async () => {\r\n    \r\n    const findSpy = jest.spyOn(tasksRepository, 'find').mockResolvedValue([mockTask]);\r\n    \r\n    \r\n    const result = await taskService.getBacklogTasks('board-123');\r\n    \r\n    \r\n    expect(result).toEqual([mockTask]);\r\n    expect(findSpy).toHaveBeenCalledWith({\r\n        where: {\r\n        boardId: 'board-123',\r\n        sprintId: IsNull(),\r\n        status: TaskStatus.BACKLOG\r\n        },\r\n        order: { order: 'ASC' },\r\n    });\r\n    });\r\n\r\n    it('должен вернуть задачи по спринту с правильным условием where', async () => {\r\n    \r\n    const findSpy = jest.spyOn(tasksRepository, 'find').mockResolvedValue([mockTask]);\r\n    \r\n    \r\n    await taskService.findBySprint('sprint-123');\r\n    \r\n    \r\n    expect(findSpy).toHaveBeenCalledWith({\r\n        where: { sprintId: 'sprint-123' }\r\n    });\r\n    });\r\n\r\n    it('должен выбросить NotFoundException с правильным сообщением в updateTask', async () => {\r\n    \r\n    jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(null);\r\n    const updateTaskDto = { title: 'Updated Title' };\r\n\r\n    \r\n    await expect(taskService.updateTask('task-123', updateTaskDto))\r\n        .rejects.toThrow('Task not found');\r\n    });\r\n\r\n    it('должен выбросить NotFoundException с правильным сообщением в updateTaskStatus', async () => {\r\n    \r\n    jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(null);\r\n\r\n    \r\n    await expect(taskService.updateTaskStatus('task-999', TaskStatus.TODO as any, 0))\r\n        .rejects.toThrow('Task not found');\r\n    });\r\n    });\r\n});"},"src/test/unit/task/task.service.branch.spec.ts":{"tests":[{"id":"29","name":"TaskService - Branch Testing Ветвление в методе getBoardById должен вернуть доску, если она существует (ветка true)","location":{"start":{"column":6,"line":83}}},{"id":"30","name":"TaskService - Branch Testing Ветвление в методе getBoardById должен выбросить NotFoundException, если доска не существует (ветка false)","location":{"start":{"column":6,"line":98}}},{"id":"31","name":"TaskService - Branch Testing Ветвление в методе createTask должен использовать текущего пользователя, если assignee не найден (ветка false)","location":{"start":{"column":6,"line":107}}},{"id":"32","name":"TaskService - Branch Testing Ветвление в методе createTask должен использовать указанного assignee, если пользователь найден (ветка true)","location":{"start":{"column":6,"line":134}}},{"id":"33","name":"TaskService - Branch Testing Ветвление в методе deleteTask должен удалить задачу, если пользователь является создателем (ветка true)","location":{"start":{"column":6,"line":163}}},{"id":"34","name":"TaskService - Branch Testing Ветвление в методе deleteTask должен выбросить ForbiddenException, если пользователь не является создателем (ветка false)","location":{"start":{"column":6,"line":183}}}],"source":"/* eslint-disable prettier/prettier */\r\n/* eslint-disable @typescript-eslint/no-unsafe-argument */\r\n/* eslint-disable @typescript-eslint/unbound-method */\r\nimport { Test, TestingModule } from '@nestjs/testing';\r\nimport { getRepositoryToken } from '@nestjs/typeorm';\r\nimport { Repository } from 'typeorm';\r\nimport { HttpService } from '@nestjs/axios';\r\nimport { of, throwError } from 'rxjs';\r\nimport { TaskService } from '../../../task/task.service';\r\nimport { Task } from '../../../entities/task.entity';\r\nimport { Board } from '../../../entities/board.entity';\r\nimport { Sprint } from '../../../entities/sprint.entity';\r\nimport { CreateTaskDto, TaskPriority, TaskStatus } from '../../../../types/src';\r\n\r\n//////////////////////Branch Testing /////////////////////////////\r\n\r\ndescribe('TaskService - Branch Testing', () => {\r\n  let taskService: TaskService;\r\n  let tasksRepository: Repository<Task>;\r\n  let boardsRepository: Repository<Board>;\r\n  let httpService: HttpService;\r\n\r\n  const mockBoard = {\r\n    id: 'board-123',\r\n    name: 'Test Board',\r\n    tasks: []\r\n  };\r\n\r\n  const mockTask = {\r\n    id: 'task-123',\r\n    title: 'Test Task',\r\n    description: 'Test Description',\r\n    status: TaskStatus.TODO,\r\n    reporterId: 'user-123',\r\n    assigneeId: 'user-456',\r\n    boardId: 'board-123'\r\n  };\r\n\r\n  beforeEach(async () => {\r\n    const module: TestingModule = await Test.createTestingModule({\r\n      providers: [\r\n        TaskService,\r\n        {\r\n          provide: getRepositoryToken(Task),\r\n          useValue: {\r\n            findOne: jest.fn(),\r\n            create: jest.fn(),\r\n            save: jest.fn(),\r\n            find: jest.fn(),\r\n            remove: jest.fn(),\r\n          },\r\n        },\r\n        {\r\n          provide: getRepositoryToken(Board),\r\n          useValue: {\r\n            findOne: jest.fn(),\r\n          },\r\n        },\r\n        {\r\n          provide: getRepositoryToken(Sprint),\r\n          useValue: {\r\n            findOne: jest.fn(),\r\n          },\r\n        },\r\n        {\r\n          provide: HttpService,\r\n          useValue: {\r\n            get: jest.fn(),\r\n            post: jest.fn(),\r\n          },\r\n        },\r\n      ],\r\n    }).compile();\r\n\r\n    taskService = module.get<TaskService>(TaskService);\r\n    tasksRepository = module.get(getRepositoryToken(Task));\r\n    boardsRepository = module.get(getRepositoryToken(Board));\r\n    httpService = module.get(HttpService);\r\n  });\r\n\r\n  describe('Ветвление в методе getBoardById', () => {\r\n    it('должен вернуть доску, если она существует (ветка true)', async () => {\r\n      \r\n      jest.spyOn(boardsRepository, 'findOne').mockResolvedValue(mockBoard as any);\r\n\r\n      \r\n      const result = await taskService.getBoardById('board-123');\r\n\r\n      \r\n      expect(result).toEqual(mockBoard);\r\n      expect(boardsRepository.findOne).toHaveBeenCalledWith({\r\n        where: { id: 'board-123' },\r\n        relations: ['tasks']\r\n      });\r\n    });\r\n\r\n    it('должен выбросить NotFoundException, если доска не существует (ветка false)', async () => {\r\n      \r\n      jest.spyOn(boardsRepository, 'findOne').mockResolvedValue(null);\r\n\r\n      await expect(taskService.getBoardById('board-123')).rejects.toThrow('Board not found');\r\n    });\r\n  });\r\n\r\n  describe('Ветвление в методе createTask', () => {\r\n    it('должен использовать текущего пользователя, если assignee не найден (ветка false)', async () => {\r\n      \r\n      jest.spyOn(boardsRepository, 'findOne').mockResolvedValue(mockBoard as any);\r\n      jest.spyOn(httpService, 'get').mockReturnValue(throwError(() => new Error('User not found')));\r\n      jest.spyOn(tasksRepository, 'create').mockReturnValue(mockTask as any);\r\n      jest.spyOn(tasksRepository, 'save').mockResolvedValue(mockTask as any);\r\n\r\n      const createTaskDto: CreateTaskDto = {\r\n          title: 'Test Task',\r\n          assigneeId: 'non-existent-user',\r\n          status: TaskStatus.TODO,\r\n          description: '',\r\n          priority: TaskPriority.LOW,\r\n          reporterId: '',\r\n          tags: [],\r\n          boardId: ''\r\n      };\r\n\r\n      \r\n      const result = await taskService.createTask('board-123', createTaskDto, 'current-user-123');\r\n\r\n      \r\n      expect(result).toBeDefined();\r\n      expect(httpService.get).toHaveBeenCalled();\r\n      // Проверяем, что был вызов sendNotification\r\n    });\r\n\r\n    it('должен использовать указанного assignee, если пользователь найден (ветка true)', async () => {\r\n      \r\n      jest.spyOn(boardsRepository, 'findOne').mockResolvedValue(mockBoard as any);\r\n      jest.spyOn(httpService, 'get').mockReturnValue(of({ data: { id: 'user-456' } } as any));\r\n      jest.spyOn(tasksRepository, 'create').mockReturnValue(mockTask as any);\r\n      jest.spyOn(tasksRepository, 'save').mockResolvedValue(mockTask as any);\r\n      jest.spyOn(httpService, 'post').mockReturnValue(of({} as any));\r\n\r\n      const createTaskDto: CreateTaskDto = {\r\n          title: 'Test Task',\r\n          assigneeId: 'user-456',\r\n          status: TaskStatus.TODO,\r\n          description: '',\r\n          priority: TaskPriority.LOW,\r\n          reporterId: '',\r\n          tags: [],\r\n          boardId: ''\r\n      };\r\n\r\n      \r\n      const result = await taskService.createTask('board-123', createTaskDto, 'current-user-123');\r\n\r\n      \r\n      expect(result).toBeDefined();\r\n      expect(httpService.get).toHaveBeenCalled();\r\n    });\r\n  });\r\n\r\n  describe('Ветвление в методе deleteTask', () => {\r\n    it('должен удалить задачу, если пользователь является создателем (ветка true)', async () => {\r\n      \r\n      const task = { ...mockTask, reporterId: 'user-123' };\r\n      jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(task as any);\r\n      jest.spyOn(tasksRepository, 'remove').mockResolvedValue(task as any);\r\n\r\n      const result = await taskService.deleteTask('task-123', 'user-123');\r\n\r\n      expect(result).toEqual(task);\r\n      expect(tasksRepository.remove).toHaveBeenCalled();\r\n    });\r\n\r\n    it('должен выбросить ForbiddenException, если пользователь не является создателем (ветка false)', async () => {\r\n\r\n      const task = { ...mockTask, reporterId: 'user-123' };\r\n      jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(task as any);\r\n\r\n      await expect(taskService.deleteTask('task-123', 'different-user')).rejects.toThrow('You can only delete tasks you created');\r\n    });\r\n\r\n    it('должен выбросить ForbiddenException, если пользователь не является создателем (ветка false)', async () => {\r\n\r\n      const task = { ...mockTask, reporterId: 'user-123' };\r\n      jest.spyOn(tasksRepository, 'findOne').mockResolvedValue(task as any);\r\n\r\n      await expect(taskService.deleteTask('task-123', 'different-user')).rejects.toThrow('You can only delete tasks you created');\r\n    });\r\n  });\r\n\r\n});"}},"projectRoot":"C:\\VKR\\workflow-app\\task-service","config":{"$schema":"./node_modules/@stryker-mutator/core/schema/stryker-schema.json","packageManager":"npm","reporters":["html","clear-text","progress","json"],"testRunner":"jest","coverageAnalysis":"perTest","jest":{"config":{"moduleFileExtensions":["js","json","ts"],"rootDir":".","testRegex":".*\\.spec\\.ts$","transform":{"^.+\\.(t|j)s$":"ts-jest"},"collectCoverageFrom":["src/**/*.(t|j)s"],"coverageDirectory":"./coverage","testEnvironment":"node","moduleNameMapper":{"^@/(.*)$":"<rootDir>/src/$1"}},"projectType":"custom","enableFindRelatedTests":true},"checkers":["typescript"],"tsconfigFile":"tsconfig.json","mutate":["src/task/task.service.ts"],"tempDirName":".stryker-tmp","cleanTempDir":true,"concurrency":1,"timeoutMS":60000,"allowConsoleColors":true,"checkerNodeArgs":[],"commandRunner":{"command":"npm test"},"clearTextReporter":{"allowColor":true,"allowEmojis":false,"logTests":true,"maxTestsToLog":3,"reportTests":true,"reportMutants":true,"reportScoreTable":true,"skipFull":false},"dashboard":{"baseUrl":"https://dashboard.stryker-mutator.io/api/reports","reportType":"full"},"dryRunOnly":false,"eventReporter":{"baseDir":"reports/mutation/events"},"ignorePatterns":[],"ignoreStatic":false,"incremental":false,"incrementalFile":"reports/stryker-incremental.json","force":false,"fileLogLevel":"off","inPlace":false,"logLevel":"info","maxConcurrentTestRunners":9007199254740991,"maxTestRunnerReuse":0,"mutator":{"plugins":null,"excludedMutations":[]},"plugins":["@stryker-mutator/*"],"appendPlugins":[],"htmlReporter":{"fileName":"reports/mutation/mutation.html"},"jsonReporter":{"fileName":"reports/mutation/mutation.json"},"disableTypeChecks":true,"symlinkNodeModules":true,"testRunnerNodeArgs":[],"thresholds":{"high":80,"low":60,"break":null},"timeoutFactor":1.5,"dryRunTimeoutMinutes":5,"warnings":true,"disableBail":false,"allowEmpty":false,"ignorers":[],"typescriptChecker":{"prioritizePerformanceOverAccuracy":true}},"framework":{"name":"StrykerJS","version":"9.4.0","branding":{"homepageUrl":"https://stryker-mutator.io","imageUrl":"data:image/svg+xml;utf8,%3Csvg viewBox='0 0 1458 1458' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='2'%3E%3Cpath fill='none' d='M0 0h1458v1458H0z'/%3E%3CclipPath id='a'%3E%3Cpath d='M0 0h1458v1458H0z'/%3E%3C/clipPath%3E%3Cg clip-path='url(%23a)'%3E%3Cpath d='M1458 729c0 402.655-326.345 729-729 729S0 1131.655 0 729C0 326.445 326.345 0 729 0s729 326.345 729 729' fill='%23e74c3c' fill-rule='nonzero'/%3E%3Cpath d='M778.349 1456.15L576.6 1254.401l233-105 85-78.668v-64.332l-257-257-44-187-50-208 251.806-82.793L1076.6 389.401l380.14 379.15c-19.681 367.728-311.914 663.049-678.391 687.599z' fill-opacity='.3'/%3E%3Cpath d='M753.4 329.503c41.79 0 74.579 7.83 97.925 25.444 23.571 18.015 41.69 43.956 55.167 77.097l11.662 28.679 165.733-58.183-14.137-32.13c-26.688-60.655-64.896-108.61-114.191-144.011-49.329-35.423-117.458-54.302-204.859-54.302-50.78 0-95.646 7.376-134.767 21.542-40.093 14.671-74.09 34.79-102.239 60.259-28.84 26.207-50.646 57.06-65.496 92.701-14.718 35.052-22.101 72.538-22.101 112.401 0 72.536 20.667 133.294 61.165 182.704 38.624 47.255 98.346 88.037 179.861 121.291 42.257 17.475 78.715 33.125 109.227 46.994 27.193 12.361 49.294 26.124 66.157 41.751 15.309 14.186 26.497 30.584 33.63 49.258 7.721 20.214 11.16 45.69 11.16 76.402 0 28.021-4.251 51.787-13.591 71.219-8.832 18.374-20.171 33.178-34.523 44.219-14.787 11.374-31.193 19.591-49.393 24.466-19.68 5.359-39.14 7.993-58.69 7.993-29.359 0-54.387-3.407-75.182-10.747-20.112-7.013-37.144-16.144-51.259-27.486-13.618-11.009-24.971-23.766-33.744-38.279-9.64-15.8-17.272-31.924-23.032-48.408l-10.965-31.376-161.669 60.585 10.734 30.124c10.191 28.601 24.197 56.228 42.059 82.748 18.208 27.144 41.322 51.369 69.525 72.745 27.695 21.075 60.904 38.218 99.481 51.041 37.777 12.664 82.004 19.159 132.552 19.159 49.998 0 95.818-8.321 137.611-24.622 42.228-16.471 78.436-38.992 108.835-67.291 30.719-28.597 54.631-62.103 71.834-100.642 17.263-38.56 25.923-79.392 25.923-122.248 0-54.339-8.368-100.37-24.208-138.32-16.29-38.759-38.252-71.661-65.948-98.797-26.965-26.418-58.269-48.835-93.858-67.175-33.655-17.241-69.196-33.11-106.593-47.533-35.934-13.429-65.822-26.601-89.948-39.525-22.153-11.868-40.009-24.21-53.547-37.309-11.429-11.13-19.83-23.678-24.718-37.664-5.413-15.49-7.98-33.423-7.98-53.577 0-40.883 11.293-71.522 37.086-90.539 28.443-20.825 64.985-30.658 109.311-30.658z' fill='%23f1c40f' fill-rule='nonzero'/%3E%3Cpath d='M720 0h18v113h-18zM1458 738v-18h-113v18h113zM720 1345h18v113h-18zM113 738v-18H0v18h113z'/%3E%3C/g%3E%3C/svg%3E"},"dependencies":{"@stryker-mutator/jest-runner":"9.4.0","@stryker-mutator/typescript-checker":"9.4.0","jest":"29.7.0","typescript":"5.9.3","webpack":"5.100.2","ts-jest":"29.4.5"}}}